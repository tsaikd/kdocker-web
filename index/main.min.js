/* kdocker-web v0.1.9 2014-06-05
 * http://tsaikd.github.io/kdocker-web/
 * License: LGPLv3
 */
!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-151772-8","tsaikd.org"),ga("require","displayfeatures"),ga("require","linkid","linkid.js"),ga("send","pageview"),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){c.offsetWidth+1;b()})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==l)return c}}function g(a){return b.element(f(a))}function h(a,b){return f(a)==f(b)}var i=b.noop,j=b.forEach,k=e.$$selectors,l=1,m="$$ngAnimateState",n="ng-animate",o={running:!0};d.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(a,c,d,l,p,q){function r(a){if(a){var b=[],e={},f=a.substr(1).split(".");(d.transitions||d.animations)&&b.push(c.get(k[""]));for(var g=0;g<f.length;g++){var h=f[g],i=k[h];i&&!e[h]&&(b.push(c.get(i)),e[h]=!0)}return b}}function s(a,c,d){function e(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),v.push({event:b,fn:c}),s.push({event:b,fn:d}),!0):void 0}function f(b,c,e){function f(a){if(c){if((c[a]||i)(),++l<g.length)return;c=null}e()}var g=[];j(b,function(a){a.fn&&g.push(a)});var l=0;j(g,function(b,e){var g=function(){f(e)};switch(b.event){case"setClass":c.push(b.fn(a,h,k,g));break;case"addClass":c.push(b.fn(a,h||d,g));break;case"removeClass":c.push(b.fn(a,k||d,g));break;default:c.push(b.fn(a,g))}}),c&&0===c.length&&e()}var g=a[0];if(g){var h,k,l="setClass"==c,m=l||"addClass"==c||"removeClass"==c;b.isArray(d)&&(h=d[0],k=d[1],d=h+" "+k);var n=a.attr("class"),o=n+" "+d;if(z(o)){var p=i,q=[],s=[],t=i,u=[],v=[],w=(" "+o).replace(/\s+/g,".");return j(r(w),function(a){var b=e(a,c);!b&&l&&(e(a,"addClass"),e(a,"removeClass"))}),{node:g,event:c,className:d,isClassBased:m,isSetClassOperation:l,before:function(a){p=a,f(s,q,function(){p=i,a()})},after:function(a){t=a,f(v,u,function(){t=i,a()})},cancel:function(){q&&(j(q,function(a){(a||i)(!0)}),p(!0)),u&&(j(u,function(a){(a||i)(!0)}),t(!0))}}}}}function t(a,c,d,e,f,g,h){function i(b){var e="$animate:"+b;u&&u[e]&&u[e].length>0&&p(function(){d.triggerHandler(e,{event:a,className:c})})}function k(){i("before")}function l(){i("after")}function o(){i("close"),h&&p(function(){h()})}function q(){q.hasBeenRun||(q.hasBeenRun=!0,g())}function r(){if(!r.hasBeenRun){r.hasBeenRun=!0;var b=d.data(m);b&&(t&&t.isClassBased?v(d,c):(p(function(){var b=d.data(m)||{};H==b.index&&v(d,c,a)}),d.data(m,b))),o()}}var t=s(d,a,c);if(!t)return q(),k(),l(),void r();c=t.className;var u=b.element._data(t.node);u=u&&u.events,e||(e=f?f.parent():d.parent());var y=d.data(m)||{},z=y.active||{},A=y.totalActive||0,B=y.last,C=t.isClassBased?y.disabled||B&&!B.isClassBased:!1;if(C||w(d,e))return q(),k(),l(),void r();var D=!1;if(A>0){var E=[];if(t.isClassBased){if("setClass"==B.event)E.push(B),v(d,c);else if(z[c]){var F=z[c];F.event==a?D=!0:(E.push(F),v(d,c))}}else if("leave"==a&&z["ng-leave"])D=!0;else{for(var G in z)E.push(z[G]),v(d,G);z={},A=0}E.length>0&&j(E,function(a){a.cancel()})}if(!t.isClassBased||t.isSetClassOperation||D||(D="addClass"==a==d.hasClass(c)),D)return k(),l(),void o();"leave"==a&&d.one("$destroy",function(){var a=b.element(this),c=a.data(m);if(c){var d=c.active["ng-leave"];d&&(d.cancel(),v(a,"ng-leave"))}}),d.addClass(n);var H=x++;A++,z[c]=t,d.data(m,{last:t,active:z,index:H,totalActive:A}),k(),t.before(function(b){var e=d.data(m);b=b||!e||!e.active[c]||t.isClassBased&&e.active[c].event!=a,q(),b===!0?r():(l(),t.after(r))})}function u(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(n):c.querySelectorAll("."+n);j(d,function(a){a=b.element(a);var c=a.data(m);c&&c.active&&j(c.active,function(a){a.cancel()})})}}function v(a,b){if(h(a,l))o.disabled||(o.running=!1,o.structural=!1);else if(b){var c=a.data(m)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(a.removeClass(n),a.removeData(m))}}function w(a,b){if(o.disabled)return!0;if(h(a,l))return o.disabled||o.running;do{if(0===b.length)break;var c=h(b,l),d=c?o:b.data(m),e=d&&(!!d.disabled||d.running||d.totalActive>0);if(c||e)return e;if(c)return!0}while(b=b.parent());return!0}var x=0;l.data(m,o),q.$$postDigest(function(){q.$$postDigest(function(){o.running=!1})});var y=e.classNameFilter(),z=y?function(a){return y.test(a)}:function(){return!0};return{enter:function(b,c,d,e){this.enabled(!1,b),a.enter(b,c,d),q.$$postDigest(function(){b=g(b),t("enter","ng-enter",b,c,d,i,e)})},leave:function(b,c){u(b),this.enabled(!1,b),q.$$postDigest(function(){t("leave","ng-leave",g(b),null,null,function(){a.leave(b)},c)})},move:function(b,c,d,e){u(b),this.enabled(!1,b),a.move(b,c,d),q.$$postDigest(function(){b=g(b),t("move","ng-move",b,c,d,i,e)})},addClass:function(b,c,d){b=g(b),t("addClass",c,b,null,null,function(){a.addClass(b,c)},d)},removeClass:function(b,c,d){b=g(b),t("removeClass",c,b,null,null,function(){a.removeClass(b,c)},d)},setClass:function(b,c,d,e){b=g(b),t("setClass",[c,d],b,null,null,function(){a.setClass(b,c,d)},e)},enabled:function(a,b){switch(arguments.length){case 2:if(a)v(b);else{var c=b.data(m)||{};c.disabled=!0,b.data(m,c)}break;case 1:o.disabled=!a;break;default:a=!o.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function k(a,b){J&&J(),W.push(b),J=h(function(){j(W,function(a){a()}),W=[],J=null,U={}})}function m(a,c){var d=f(a);a=b.element(d),Z.push(a);var e=Date.now()+c;Y>=e||(g.cancel(X),Y=e,X=g(function(){n(Z),Z=[]},c,!1))}function n(a){j(a,function(a){var b=a.data(P);b&&(b.closeAnimationFn||i)()})}function o(a,b){var c=b?U[b]:null;if(!c){var e,f,g,h,i=0,k=0,m=0,n=0;j(a,function(a){if(a.nodeType==l){var b=d.getComputedStyle(a)||{};g=b[E+K],i=Math.max(p(g),i),h=b[E+L],e=b[E+M],k=Math.max(p(e),k),f=b[G+M],n=Math.max(p(f),n);var c=p(b[G+K]);c>0&&(c*=parseInt(b[G+N],10)||1),m=Math.max(c,m)}}),c={total:0,transitionPropertyStyle:h,transitionDurationStyle:g,transitionDelayStyle:e,transitionDelay:k,transitionDuration:i,animationDelayStyle:f,animationDelay:n,animationDuration:m},b&&(U[b]=c)}return c}function p(a){var c=0,d=b.isString(a)?a.split(/\s*,\s*/):[];return j(d,function(a){c=Math.max(parseFloat(a)||0,c)}),c}function q(a){var b=a.parent(),c=b.data(O);return c||(b.data(O,++V),c=V),c+"-"+f(a).getAttribute("class")}function r(a,b,c,d){var e=q(b),f=e+" "+c,g=U[f]?++U[f].total:0,h={};if(g>0){var j=c+"-stagger",k=e+" "+j,l=!U[k];l&&b.addClass(j),h=o(b,k),l&&b.removeClass(j)}d=d||function(a){return a()},b.addClass(c);var m=b.data(P)||{},n=d(function(){return o(b,f)}),p=n.transitionDuration,r=n.animationDuration;if(0===p&&0===r)return b.removeClass(c),!1;b.data(P,{running:m.running||0,itemIndex:g,stagger:h,timings:n,closeAnimationFn:i});var s=m.running>0||"setClass"==a;return p>0&&t(b,c,s),r>0&&h.animationDelay>0&&0===h.animationDuration&&u(b),!0}function s(a){return"ng-enter"==a||"ng-move"==a||"ng-leave"==a}function t(a,b,c){s(b)||!c?f(a).style[E+L]="none":a.addClass(Q)}function u(a){f(a).style[G]="none 0s"}function v(a){var b=E+L,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]=""),a.removeClass(Q)}function w(a){var b=G,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]="")}function x(a,b,c,d){function e(){b.off(t,g),b.removeClass(k),C(b,c);var a=f(b);for(var d in v)a.style.removeProperty(v[d])}function g(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(R));Math.max(c-s,0)>=r&&e>=p&&d()}var h=f(b),i=b.data(P);if(-1==h.getAttribute("class").indexOf(c)||!i)return void d();var k="";j(c.split(" "),function(a,b){k+=(b>0?" ":"")+a+"-active"});var l=i.stagger,n=i.timings,o=i.itemIndex,p=Math.max(n.transitionDuration,n.animationDuration),q=Math.max(n.transitionDelay,n.animationDelay),r=q*T,s=Date.now(),t=H+" "+F,u="",v=[];if(n.transitionDuration>0){var w=n.transitionPropertyStyle;-1==w.indexOf("all")&&(u+=I+"transition-property: "+w+";",u+=I+"transition-duration: "+n.transitionDurationStyle+";",v.push(I+"transition-property"),v.push(I+"transition-duration"))}if(o>0){if(l.transitionDelay>0&&0===l.transitionDuration){var x=n.transitionDelayStyle;u+=I+"transition-delay: "+y(x,l.transitionDelay,o)+"; ",v.push(I+"transition-delay")}l.animationDelay>0&&0===l.animationDuration&&(u+=I+"animation-delay: "+y(n.animationDelayStyle,l.animationDelay,o)+"; ",v.push(I+"animation-delay"))}if(v.length>0){var z=h.getAttribute("style")||"";h.setAttribute("style",z+" "+u)}b.on(t,g),b.addClass(k),i.closeAnimationFn=function(){e(),d()};var A=o*(Math.max(l.animationDelay,l.transitionDelay)||0),B=(q+p)*S,D=(A+B)*T;return i.running++,m(b,D),e}function y(a,b,c){var d="";return j(a.split(","),function(a,e){d+=(e>0?",":"")+(c*b+parseInt(a,10))+"s"}),d}function z(a,b,c,d){return r(a,b,c,d)?function(a){a&&C(b,c)}:void 0}function A(a,b,c,d){return b.data(P)?x(a,b,c,d):(C(b,c),void d())}function B(a,b,c,d){var e=z(a,b,c);if(!e)return void d();var f=e;return k(b,function(){v(b,c),w(b),f=A(a,b,c,d)}),function(a){(f||i)(a)}}function C(a,b){a.removeClass(b);var c=a.data(P);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(P))}function D(a,c){var d="";return a=b.isArray(a)?a:a.split(/\s+/),j(a,function(a,b){a&&a.length>0&&(d+=(b>0?" ":"")+a+c)}),d}var E,F,G,H,I="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(I="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(I="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var J,K="Duration",L="Property",M="Delay",N="IterationCount",O="$$ngAnimateKey",P="$$ngAnimateCSS3Data",Q="ng-animate-block-transitions",R=3,S=1.5,T=1e3,U={},V=0,W=[],X=null,Y=0,Z=[];return{enter:function(a,b){return B("enter",a,"ng-enter",b)},leave:function(a,b){return B("leave",a,"ng-leave",b)},move:function(a,b){return B("move",a,"ng-move",b)},beforeSetClass:function(a,b,c,d){var e=D(c,"-remove")+" "+D(b,"-add"),f=z("setClass",a,e,function(d){var e=a.attr("class");a.removeClass(c),a.addClass(b);var f=d();return a.attr("class",e),f});return f?(k(a,function(){v(a,e),w(a),d()}),f):void d()},beforeAddClass:function(a,b,c){var d=z("addClass",a,D(b,"-add"),function(c){a.addClass(b);var d=c();return a.removeClass(b),d});return d?(k(a,function(){v(a,b),w(a),c()}),d):void c()},setClass:function(a,b,c,d){c=D(c,"-remove"),b=D(b,"-add");var e=c+" "+b;return A("setClass",a,e,d)},addClass:function(a,b,c){return A("addClass",a,D(b,"-add"),c)},beforeRemoveClass:function(a,b,c){var d=z("removeClass",a,D(b,"-remove"),function(c){var d=a.attr("class");a.removeClass(b);var e=c();return a.attr("class",d),e});return d?(k(a,function(){v(a,b),w(a),c()}),d):void c()},removeClass:function(a,b,c){return A("removeClass",a,D(b,"-remove"),c)}}}])}])}(window,window.angular),function(){"use strict";var a=angular.module("LocalStorageModule",[]);a.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){this.prefix=a},this.setStorageType=function(a){this.storageType=a},this.setStorageCookie=function(a,b){this.cookie={expiry:a,path:b}},this.setStorageCookieDomain=function(a){this.cookie.domain=a},this.setNotify=function(a,b){this.notify={setItem:a,removeItem:b}},this.$get=["$rootScope","$window","$document",function(a,b,c){var d,e=this.prefix,f=this.cookie,g=this.notify,h=this.storageType;c||(c=document),"."!==e.substr(-1)&&(e=e?e+".":"");var i=function(a){return e+a},j=function(){try{var c=h in b&&null!==b[h],e=i("__"+Math.round(1e7*Math.random()));return c&&(d=b[h],d.setItem(e,""),d.removeItem(e)),c}catch(f){return h="cookie",a.$broadcast("LocalStorageModule.notification.error",f.message),!1}}(),k=function(b,c){if(!j)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),q(b,c);"undefined"==typeof c&&(c=null);try{(angular.isObject(c)||angular.isArray(c))&&(c=angular.toJson(c)),d&&d.setItem(i(b),c),g.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:this.storageType})}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.message),q(b,c)}return!0},l=function(b){if(!j)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r(b);var c=d?d.getItem(i(b)):null;return c&&"null"!==c?"{"===c.charAt(0)||"["===c.charAt(0)?angular.fromJson(c):c:null},m=function(b){if(!j)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:b,storageType:"cookie"}),s(b);try{d.removeItem(i(b)),g.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:b,storageType:this.storageType})}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),s(b)}return!0},n=function(){if(!j)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var b=e.length,c=[];for(var f in d)if(f.substr(0,b)===e)try{c.push(f.substr(b))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.Description),[]}return c},o=function(b){b=b||"";var c=e.slice(0,-1),f=new RegExp(c+"."+b);if(!j)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),t();var g=e.length;for(var h in d)if(f.test(h))try{m(h.substr(g))}catch(i){return a.$broadcast("LocalStorageModule.notification.error",i.message),t()}return!0},p=function(){try{return navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.message),!1}},q=function(b,d){if("undefined"==typeof d)return!1;if(!p())return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var e="",g=new Date,h="";if(null===d?(g.setTime(g.getTime()+-864e5),e="; expires="+g.toGMTString(),d=""):0!==f.expiry&&(g.setTime(g.getTime()+24*f.expiry*60*60*1e3),e="; expires="+g.toGMTString()),b){var j="; path="+f.path;f.domain&&(h="; domain="+f.domain),c.cookie=i(b)+"="+encodeURIComponent(d)+e+j+h}}catch(k){return a.$broadcast("LocalStorageModule.notification.error",k.message),!1}return!0},r=function(b){if(!p())return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var d=c.cookie&&c.cookie.split(";")||[],f=0;f<d.length;f++){for(var g=d[f];" "===g.charAt(0);)g=g.substring(1,g.length);if(0===g.indexOf(i(b)+"="))return decodeURIComponent(g.substring(e.length+b.length+1,g.length))}return null},s=function(a){q(a,null)},t=function(){for(var a=null,b=e.length,d=c.cookie.split(";"),f=0;f<d.length;f++){for(a=d[f];" "===a.charAt(0);)a=a.substring(1,a.length);var g=a.substring(b,a.indexOf("="));s(g)}},u=function(){return h},v=function(a,b,c){var d=l(b);null===d&&angular.isDefined(c)?d=c:angular.isObject(d)&&angular.isObject(c)&&(d=angular.extend(c,d)),a[b]=d,a.$watchCollection(b,function(a){k(b,a)})};return{isSupported:j,getStorageType:u,set:k,add:k,get:l,keys:n,remove:m,clearAll:o,bind:v,deriveKey:i,cookie:{set:q,add:q,get:r,remove:s,clearAll:t}}}]})}.call(this),angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(a){var b=a.storageKey(),c=a.storage();c?c.get(b)?a.use(c.get(b)):angular.isString(a.preferredLanguage())?a.use(a.preferredLanguage()):c.set(b,a.use()):angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p={},q=[],r=a,s=[],t=!1,u="translate-cloak",v=!1,w=".",x=function(){var a=window.navigator;return(a.language||a.browserLanguage||a.systemLanguage||a.userLanguage||"").split("-").join("_")},y=function(a){for(var b=[],d=angular.lowercase(a),e=0,f=q.length;f>e;e++)b.push(angular.lowercase(q[e]));if(b.indexOf(d)>-1)return d;if(c){var g;for(var h in c)if(c.hasOwnProperty(h)&&angular.lowercase(h)===angular.lowercase(a)&&(g=c[h],b.indexOf(angular.lowercase(g))>-1))return g}var i=a.split("_");return i.length>1&&b.indexOf(angular.lowercase(i[0]))>-1?i[0]:void 0},z=function(a,b){if(!a&&!b)return p;if(a&&!b){if(angular.isString(a))return p[a]}else angular.isObject(p[a])||(p[a]={}),angular.extend(p[a],A(b));return this};this.translations=z,this.cloakClassName=function(a){return a?(u=a,this):u};var A=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)a.hasOwnProperty(e)&&(h=a[e],angular.isObject(h)?A(h,b.concat(e),c,e):(f=b.length?""+b.join(w)+w+e:e,b.length&&e===d&&(g=""+b.join(w),c[g]="@:"+f),c[f]=h));return c};this.addInterpolation=function(a){return s.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return k=a,this},this.useSanitizeValueStrategy=function(a){return t=a,this},this.preferredLanguage=function(a){return a?(b=a,this):b},this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(n=a,this):n},this.translationNotFoundIndicatorRight=function(a){return a?(o=a,this):o},this.fallbackLanguage=function(a){return B(a),this};var B=function(a){return a?(angular.isString(a)?(e=!0,d=[a]):angular.isArray(a)&&(e=!1,d=a),angular.isString(b)&&d.push(b),this):e?d[0]:d};this.use=function(a){if(a){if(!p[a]&&!l)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return f=a,this}return f};var C=function(a){return a?void(r=a):i?i+r:r};this.storageKey=C,this.useUrlLoader=function(a){return this.useLoader("$translateUrlLoader",{url:a})},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return l=a,m=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return h=a,this},this.storagePrefix=function(a){return a?(i=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return j=a,this},this.usePostCompiling=function(a){return v=!!a,this},this.determinePreferredLanguage=function(a){var c=a&&angular.isFunction(a)?a():x();return q.length?void(b=y(c)):(b=c,this)},this.registerAvailableLanguageKeys=function(a,b){return a?(q=a,b&&(c=b),this):q},this.$get=["$log","$injector","$rootScope","$q",function(a,c,i,q){var w,x,y,D=c.get(k||"$translateDefaultInterpolation"),E=!1,F={},G={},H=function(a,c,e){if(angular.isArray(a)){var g=function(a){for(var b={},d=[],f=function(a){var d=q.defer(),f=function(c){b[a]=c,d.resolve([a,c])};return H(a,c,e).then(f,f),d.promise},g=0,h=a.length;h>g;g++)d.push(f(a[g]));return q.all(d).then(function(){return b})};return g(a)}var i=q.defer();a=a.trim();var j=function(){var a=b?G[b]:G[f];if(x=0,h&&!a){var c=w.get(r);if(a=G[c],d&&d.length){var e=I(d,c);x=e>-1?e+=1:0,d.push(b)}}return a}();return j?j.then(function(){T(a,c,e).then(i.resolve,i.reject)},i.reject):T(a,c,e).then(i.resolve,i.reject),i.promise},I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J=function(a){return n&&(a=[n,a].join(" ")),o&&(a=[a,o].join(" ")),a},K=function(a){f=a,i.$emit("$translateChangeSuccess"),h&&w.set(H.storageKey(),f),D.setLocale(f),angular.forEach(F,function(a,b){F[b].setLocale(f)}),i.$emit("$translateChangeEnd")},L=function(a){if(!a)throw"No language key specified for loading.";var b=q.defer();return i.$emit("$translateLoadingStart"),E=!0,c.get(l)(angular.extend(m,{key:a})).then(function(c){var d={};i.$emit("$translateLoadingSuccess"),angular.isArray(c)?angular.forEach(c,function(a){angular.extend(d,A(a))}):angular.extend(d,A(c)),E=!1,b.resolve({key:a,table:d}),i.$emit("$translateLoadingEnd")},function(a){i.$emit("$translateLoadingError"),b.reject(a),i.$emit("$translateLoadingEnd")}),b.promise};if(h&&(w=c.get(h),!w.get||!w.set))throw new Error("Couldn't use storage '"+h+"', missing get() or set() method!");angular.isFunction(D.useSanitizeValueStrategy)&&D.useSanitizeValueStrategy(t),s.length&&angular.forEach(s,function(a){var d=c.get(a);d.setLocale(b||f),angular.isFunction(d.useSanitizeValueStrategy)&&d.useSanitizeValueStrategy(t),F[d.getInterpolationIdentifier()]=d});var M=function(a){var b=q.defer();return p.hasOwnProperty(a)?(b.resolve(p[a]),b.promise):(G[a].then(function(a){z(a.key,a.table),b.resolve(a.table)},b.reject),b.promise)},N=function(a,b,c,d){var e=q.defer();return M(a).then(function(g){g.hasOwnProperty(b)?(d.setLocale(a),e.resolve(d.interpolate(g[b],c)),d.setLocale(f)):e.reject()},e.reject),e.promise},O=function(a,b,c,d){var e,g=p[a];return g.hasOwnProperty(b)&&(d.setLocale(a),e=d.interpolate(g[b],c),d.setLocale(f)),e},P=function(a,b,c,e){var f=q.defer();if(a<d.length){var g=d[a];N(g,b,c,e).then(function(a){f.resolve(a)},function(){var d=P(a+1,b,c,e);f.resolve(d)})}else f.resolve(b);return f.promise},Q=function(a,b,c,e){var f;if(a<d.length){var g=d[a];f=O(g,b,c,e),f||(f=Q(a+1,b,c,e))}return f},R=function(a,b,c){return P(y>0?y:x,a,b,c)},S=function(a,b,c){return Q(y>0?y:x,a,b,c)},T=function(a,b,e){var g=q.defer(),h=f?p[f]:p,i=e?F[e]:D;if(h&&h.hasOwnProperty(a)){var k=h[a];"@:"===k.substr(0,2)?H(k.substr(2),b,e).then(g.resolve,g.reject):g.resolve(i.interpolate(k,b))}else j&&!E&&c.get(j)(a,f),f&&d&&d.length?R(a,b,i).then(function(a){g.resolve(a)},function(a){g.reject(J(a))}):g.reject(J(a));return g.promise},U=function(a,b,e){var g,h=f?p[f]:p,i=e?F[e]:D;if(h&&h.hasOwnProperty(a)){var k=h[a];g="@:"===k.substr(0,2)?U(k.substr(2),b,e):i.interpolate(k,b)}else j&&!E&&c.get(j)(a,f),f&&d&&d.length?(x=0,g=S(a,b,i)):g=J(a);return g};if(H.preferredLanguage=function(){return b},H.cloakClassName=function(){return u},H.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(B(a),l&&d&&d.length)for(var b=0,c=d.length;c>b;b++)G[d[b]]||(G[d[b]]=L(d[b]));H.use(H.use())}return e?d[0]:d},H.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=I(d,a);b>-1&&(y=b)}else y=0},H.proposedLanguage=function(){return g},H.storage=function(){return w},H.use=function(a){if(!a)return f;var b=q.defer();return i.$emit("$translateChangeStart"),!p[a]&&l?(g=a,G[a]=L(a).then(function(c){z(c.key,c.table),b.resolve(c.key),g===a&&(K(c.key),g=void 0)},function(a){g=void 0,i.$emit("$translateChangeError"),b.reject(a),i.$emit("$translateChangeEnd")})):(b.resolve(a),K(a)),b.promise},H.storageKey=function(){return C()},H.isPostCompilingEnabled=function(){return v},H.refresh=function(a){function b(){e.resolve(),i.$emit("$translateRefreshEnd")}function c(){e.reject(),i.$emit("$translateRefreshEnd")}if(!l)throw new Error("Couldn't refresh translation table, no loader registered!");var e=q.defer();if(i.$emit("$translateRefreshStart"),a)p[a]?L(a).then(function(c){z(c.key,c.table),a===f&&K(f),b()},c):c();else{var g=[];if(d&&d.length)for(var h=0,j=d.length;j>h;h++)g.push(L(d[h]));f&&g.push(L(f)),q.all(g).then(function(a){angular.forEach(a,function(a){p[a.key]&&delete p[a.key],z(a.key,a.table)}),f&&K(f),b()})}return e.promise},H.instant=function(a,e,g){if(angular.isArray(a)){for(var h={},i=0,k=a.length;k>i;i++)h[a[i]]=H.instant(a[i],e,g);return h}if("undefined"==typeof a||""===a)return a;a=a.trim();var l,m=[];b&&m.push(b),f&&m.push(f),d&&d.length&&(m=m.concat(d));for(var n=0,o=m.length;o>n;n++){var q=m[n];if(p[q]&&"undefined"!=typeof p[q][a]&&(l=U(a,e,g)),"undefined"!=typeof l)break}return l||""===l||(l=a,j&&!E&&c.get(j)(a,f)),l},l&&(angular.equals(p,{})&&H.use(H.use()),d&&d.length))for(var V=0,W=d.length;W>V;V++)G[d[V]]=L(d[V]);return H}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(a){var b,c={},d="default",e=null,f={escaped:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=angular.element("<div></div>").text(a[c]).html());return b}},g=function(a){var b;return b=angular.isFunction(f[e])?f[e](a):a};return c.setLocale=function(a){b=a},c.getInterpolationIdentifier=function(){return d},c.useSanitizeValueStrategy=function(a){return e=a,this},c.interpolate=function(b,c){return e&&(c=g(c)),a(b)(c)},c}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(a,b,c,d,e,f){return{restrict:"AE",scope:!0,compile:function(b,g){var h=g.translateValues?g.translateValues:void 0,i=g.translateInterpolation?g.translateInterpolation:void 0,j=b[0].outerHTML.match(/translate-value-+/i);return function(b,k,l){if(b.interpolateParams={},l.$observe("translate",function(a){b.translationId=angular.equals(a,"")||!angular.isDefined(a)?c(k.text().replace(/^\s+|\s+$/g,""))(b.$parent):a}),l.$observe("translateDefault",function(a){b.defaultText=a}),h&&l.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),j){var m=function(a){l.$observe(a,function(c){b.interpolateParams[angular.lowercase(a.substr(14,1))+a.substr(15)]=c})};for(var n in l)l.hasOwnProperty(n)&&"translateValue"===n.substr(0,14)&&"translateValues"!==n&&m(n)}var o=function(b,c,e){e||"undefined"==typeof c.defaultText||(b=c.defaultText),k.html(b);var f=a.isPostCompilingEnabled(),h="undefined"!=typeof g.translateCompile,i=h&&"false"!==g.translateCompile;(f&&!h||i)&&d(k.contents())(c)},p=function(){return h||j?function(){var c=function(){b.translationId&&b.interpolateParams&&a(b.translationId,b.interpolateParams,i).then(function(a){o(a,b,!0)},function(a){o(a,b,!1)})};b.$watch("interpolateParams",c,!0),b.$watch("translationId",c)}:function(){var c=b.$watch("translationId",function(d){b.translationId&&d&&a(d,{},i).then(function(a){o(a,b,!0),c()},function(a){o(a,b,!1),c()})},!0)}}(),q=f.$on("$translateChangeSuccess",p);p(),b.$on("$destroy",q)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(a,b){return{compile:function(c){a.$on("$translateLoadingSuccess",function(){c.removeClass(b.cloakClassName())}),c.addClass(b.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(a,b){return function(c,d,e){return angular.isObject(d)||(d=a(d)()),b.instant(c,d,e)}}]),function(){"use strict";function a(){this._events=this._events||{}}function b(c){var d=this;if(!(this instanceof b))return new b(arguments[0],arguments[1],arguments[2]);a.call(this),"number"==typeof c&&(c={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),c=c||{},k(l(b.defaults),function(a){null==c[a]&&(c[a]=b.options[a],b[a]!==b.defaults[a]&&(c[a]=b[a])),d[a]=c[a]}),8===c.colors.length?c.colors=c.colors.concat(b._colors.slice(8)):16===c.colors.length?c.colors=c.colors.concat(b._colors.slice(16)):10===c.colors.length?c.colors=c.colors.slice(0,-2).concat(b._colors.slice(8,-2),c.colors.slice(-2)):18===c.colors.length&&(c.colors=c.colors.concat(b._colors.slice(16,-2),c.colors.slice(-2))),this.colors=c.colors,this.options=c,this.parent=c.body||c.parent||(m?m.getElementsByTagName("body")[0]:null),this.cols=c.cols||c.geometry[0],this.rows=c.rows||c.geometry[1],c.handler&&this.on("data",c.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.prefixMode=!1,this.selectMode=!1,this.visualMode=!1,this.searchMode=!1,this.searchDown,this.entry="",this.entryPrefix="",this._real,this._selected,this._textarea,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.lines=[];for(var e=this.rows;e--;)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function c(a,b,c,d){a.addEventListener(b,c,d||!1)}function d(a,b,c,d){a.removeEventListener(b,c,d||!1)}function e(a){return a.preventDefault&&a.preventDefault(),a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,!1}function f(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function g(a){var b=a.getElementsByTagName("body")[0],c=a.createElement("span");c.innerHTML="hello world",b.appendChild(c);var d=c.scrollWidth;c.style.fontWeight="bold";var e=c.scrollWidth;return b.removeChild(c),d!==e}function h(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function i(a){return"ï¼€">=a?!1:a>="ï¼"&&"ï¾¾">=a||a>="ï¿‚"&&"ï¿‡">=a||a>="ï¿Š"&&"ï¿">=a||a>="ï¿’"&&"ï¿—">=a||a>="ï¿š"&&"ï¿œ">=a||a>="ï¿ "&&"ï¿¦">=a||a>="ï¿¨"&&"ï¿®">=a}function j(a,c,d){var e=a<<16|c<<8|d;if(null!=j._cache[e])return j._cache[e];for(var f,g,h,i,k,l=1/0,m=-1,n=0;n<b.vcolors.length;n++){if(f=b.vcolors[n],g=f[0],h=f[1],i=f[2],k=j.distance(a,c,d,g,h,i),0===k){m=n;break}l>k&&(l=k,m=n)}return j._cache[e]=m}function k(a,b,c){if(a.forEach)return a.forEach(b,c);for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)}function l(a){if(Object.keys)return Object.keys(a);var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}var m=this.document;a.prototype.addListener=function(a,b){this._events[a]=this._events[a]||[],this._events[a].push(b)},a.prototype.on=a.prototype.addListener,a.prototype.removeListener=function(a,b){if(this._events[a])for(var c=this._events[a],d=c.length;d--;)if(c[d]===b||c[d].listener===b)return void c.splice(d,1)},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(a){this._events[a]&&delete this._events[a]},a.prototype.once=function(a,b){function c(){var d=Array.prototype.slice.call(arguments);return this.removeListener(a,c),b.apply(this,d)}return c.listener=b,this.on(a,c)},a.prototype.emit=function(a){if(this._events[a])for(var b=Array.prototype.slice.call(arguments,1),c=this._events[a],d=c.length,e=0;d>e;e++)c[e].apply(this,b)},a.prototype.listeners=function(a){return this._events[a]=this._events[a]||[]};var n=0,o=1,p=2,q=3,r=4,s=5,t=6;f(b,a),b.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},b.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],b.xtermColors=["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],b.colors=function(){function a(a,b,d){e.push("#"+c(a)+c(b)+c(d))}function c(a){return a=a.toString(16),a.length<2?"0"+a:a}var d,e=b.tangoColors.slice(),f=[0,95,135,175,215,255];for(d=0;216>d;d++)a(f[d/36%6|0],f[d/6%6|0],f[d%6]);for(d=0;24>d;d++)f=8+10*d,a(f,f,f);return e}(),b.colors[256]="#000000",b.colors[257]="#f0f0f0",b._colors=b.colors.slice(),b.vcolors=function(){for(var a,c=[],d=b.colors,e=0;256>e;e++)a=parseInt(d[e].substring(1),16),c.push([a>>16&255,a>>8&255,255&a]);
return c}(),b.defaults={colors:b.colors,convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!0,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,useStyle:!1},b.options={},k(l(b.defaults),function(a){b[a]=b.defaults[a],b.options[a]=b.defaults[a]}),b.focus=null,b.prototype.focus=function(){b.focus!==this&&(b.focus&&b.focus.blur(),this.sendFocus&&this.send("[I"),this.showCursor(),b.focus=this)},b.prototype.blur=function(){b.focus===this&&(this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send("[O"),b.focus=null)},b.prototype.initGlobal=function(){var a=this.document;b._boundDocs=b._boundDocs||[],~h(b._boundDocs,a)||(b._boundDocs.push(a),b.bindPaste(a),b.bindKeys(a),b.bindCopy(a),this.isIpad&&b.fixIpad(a),this.useStyle&&b.insertStyle(a,this.colors[256],this.colors[257]))},b.bindPaste=function(a){var d=a.defaultView;c(d,"paste",function(a){var c=b.focus;if(c)return a.clipboardData?c.send(a.clipboardData.getData("text/plain")):c.context.clipboardData&&c.send(c.context.clipboardData.getData("Text")),c.element.contentEditable="inherit",e(a)})},b.bindKeys=function(a){c(a,"keydown",function(a){if(b.focus){var c=a.target||a.srcElement;if(c)return c===b.focus.element||c===b.focus.context||c===b.focus.document||c===b.focus.body||c===b._textarea||c===b.focus.parent?b.focus.keyDown(a):void 0}},!0),c(a,"keypress",function(a){if(b.focus){var c=a.target||a.srcElement;if(c)return c===b.focus.element||c===b.focus.context||c===b.focus.document||c===b.focus.body||c===b._textarea||c===b.focus.parent?b.focus.keyPress(a):void 0}},!0),c(a,"mousedown",function(a){if(b.focus){var c=a.target||a.srcElement;if(c){do if(c===b.focus.element)return;while(c=c.parentNode);b.focus.blur()}}})},b.bindCopy=function(a){var d=a.defaultView;c(d,"copy",function(){var a=b.focus;if(a&&a._selected){var c=a.getCopyTextarea(),d=a.grabText(a._selected.x1,a._selected.x2,a._selected.y1,a._selected.y2);a.emit("copy",d),c.focus(),c.textContent=d,c.value=d,c.setSelectionRange(0,d.length),v(function(){a.element.focus(),a.focus()},1)}})},b.fixIpad=function(a){var c=a.createElement("textarea");c.style.position="absolute",c.style.left="-32000px",c.style.top="-32000px",c.style.width="0px",c.style.height="0px",c.style.opacity="0",c.style.backgroundColor="transparent",c.style.borderStyle="none",c.style.outlineStyle="none",a.getElementsByTagName("body")[0].appendChild(c),b._textarea=c,v(function(){c.focus()},1e3)},b.insertStyle=function(a,b,c){var d=a.getElementById("term-style");if(!d){var e=a.getElementsByTagName("head")[0];if(e){var d=a.createElement("style");d.id="term-style",d.innerHTML=".terminal {\n  float: left;\n  border: "+b+' solid 5px;\n  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n  font-size: 11px;\n  color: '+c+";\n  background: "+b+";\n}\n\n.terminal-cursor {\n  color: "+b+";\n  background: "+c+";\n}\n",e.insertBefore(d,e.firstChild)}}},b.prototype.open=function(a){var d,e=this,f=0;if(this.parent=a||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac"),this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad"),this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.element=this.document.createElement("div"),this.element.className="terminal",this.element.style.outline="none",this.element.setAttribute("tabindex",0),this.element.style.backgroundColor=this.colors[256],this.element.style.color=this.colors[257],this.children=[];f<this.rows;f++)d=this.document.createElement("div"),this.element.appendChild(d),this.children.push(d);this.parent.appendChild(this.element),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),this.startBlink(),c(this.element,"focus",function(){e.focus(),e.isIpad&&b._textarea.focus()}),c(this.element,"mousedown",function(){e.focus()}),c(this.element,"mousedown",function(a){var b=null!=a.button?+a.button:null!=a.which?a.which-1:null;e.isMSIE&&(b=1===b?0:4===b?1:b),2===b&&(e.element.contentEditable="true",v(function(){e.element.contentEditable="inherit"},1))},!0),this.bindMouse(),null==b.brokenBold&&(b.brokenBold=g(this.document)),v(function(){e.element.focus()},100)},b.prototype.bindMouse=function(){function a(a){var b,c;if(b=h(a),c=i(a))switch(g(b,c),a.type){case"mousedown":l=b;break;case"mouseup":l=32;break;case m:}}function b(a){var b,c=l;b=i(a),b&&(c+=32,g(c,b))}function f(a,b){if(k.utfMouse){if(2047===b)return a.push(0);127>b?a.push(b):(b>2047&&(b=2047),a.push(192|b>>6),a.push(128|63&b))}else{if(255===b)return a.push(0);b>127&&(b=127),a.push(b)}}function g(a,b){if(k.vt300Mouse){a&=3,b.x-=32,b.y-=32;var c="[24";if(0===a)c+="1";else if(1===a)c+="3";else if(2===a)c+="5";else{if(3===a)return;c+="0"}return c+="~["+b.x+","+b.y+"]\r",void k.send(c)}if(k.decLocator)return a&=3,b.x-=32,b.y-=32,0===a?a=2:1===a?a=4:2===a?a=6:3===a&&(a=3),void k.send("["+a+";"+(3===a?4:0)+";"+b.y+";"+b.x+";"+(b.page||0)+"&w");if(k.urxvtMouse)return b.x-=32,b.y-=32,b.x++,b.y++,void k.send("["+a+";"+b.x+";"+b.y+"M");if(k.sgrMouse)return b.x-=32,b.y-=32,void k.send("[<"+(3===(3&a)?-4&a:a)+";"+b.x+";"+b.y+(3===(3&a)?"m":"M"));var c=[];f(c,a),f(c,b.x),f(c,b.y),k.send("[M"+u.fromCharCode.apply(u,c))}function h(a){var b,c,d,e,f;switch(a.type){case"mousedown":b=null!=a.button?+a.button:null!=a.which?a.which-1:null,k.isMSIE&&(b=1===b?0:4===b?1:b);break;case"mouseup":b=3;break;case"DOMMouseScroll":b=a.detail<0?64:65;break;case"mousewheel":b=a.wheelDeltaY>0?64:65}return c=a.shiftKey?4:0,d=a.metaKey?8:0,e=a.ctrlKey?16:0,f=c|d|e,k.vt200Mouse?f&=e:k.normalMouse||(f=0),b=32+(f<<2)+b}function i(a){var b,c,d,e,f;if(null!=a.pageX){for(b=a.pageX,c=a.pageY,f=k.element;f&&f!==k.document.documentElement;)b-=f.offsetLeft,c-=f.offsetTop,f="offsetParent"in f?f.offsetParent:f.parentNode;return d=k.element.clientWidth,e=k.element.clientHeight,b=Math.round(b/d*k.cols),c=Math.round(c/e*k.rows),0>b&&(b=0),b>k.cols&&(b=k.cols),0>c&&(c=0),c>k.rows&&(c=k.rows),b+=32,c+=32,{x:b,y:c,type:a.type===m?"mousewheel":a.type}}}var j=this.element,k=this,l=32,m="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";c(j,"mousedown",function(f){return k.mouseEvents?(a(f),k.focus(),k.vt200Mouse?(a({__proto__:f,type:"mouseup"}),e(f)):(k.normalMouse&&c(k.document,"mousemove",b),k.x10Mouse||c(k.document,"mouseup",function g(c){return a(c),k.normalMouse&&d(k.document,"mousemove",b),d(k.document,"mouseup",g),e(c)}),e(f))):void 0}),c(j,m,function(b){return k.mouseEvents&&!(k.x10Mouse||k.vt300Mouse||k.decLocator)?(a(b),e(b)):void 0}),c(j,m,function(a){return k.mouseEvents||k.applicationKeypad?void 0:(k.scrollDisp("DOMMouseScroll"===a.type?a.detail<0?-5:5:a.wheelDeltaY>0?-5:5),e(a))})},b.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},b.prototype.refresh=function(a,c){var d,e,f,g,h,j,k,l,m,n,o,p,q,r;for(c-a>=this.rows/2&&(r=this.element.parentNode,r&&r.removeChild(this.element)),k=this.cols,e=a,c>=this.lines.length&&(this.log("`end` is too large. Most likely a bad CSR."),c=this.lines.length-1);c>=e;e++){for(q=e+this.ydisp,g=this.lines[q],h="",d=e!==this.y||!this.cursorState||this.ydisp!==this.ybase&&!this.selectMode||this.cursorHidden?-1:this.x,m=this.defAttr,f=0;k>f;f++){switch(l=g[f][0],j=g[f][1],f===d&&(l=-1),l!==m&&(m!==this.defAttr&&(h+="</span>"),l!==this.defAttr&&(-1===l?h+='<span class="reverse-video terminal-cursor">':(h+='<span style="',o=511&l,n=l>>9&511,p=l>>18,1&p&&(b.brokenBold||(h+="font-weight:bold;"),8>n&&(n+=8)),2&p&&(h+="text-decoration:underline;"),4&p&&(2&p?(h=h.slice(0,-1),h+=" blink;"):h+="text-decoration:blink;"),8&p&&(o=l>>9&511,n=511&l,1&p&&8>n&&(n+=8)),16&p&&(h+="visibility:hidden;"),256!==o&&(h+="background-color:"+this.colors[o]+";"),257!==n&&(h+="color:"+this.colors[n]+";"),h+='">'))),j){case"&":h+="&amp;";break;case"<":h+="&lt;";break;case">":h+="&gt;";break;default:" ">=j?h+="&nbsp;":(i(j)&&f++,h+=j)}m=l}m!==this.defAttr&&(h+="</span>"),this.children[e].innerHTML=h}r&&r.appendChild(this.element)},b.prototype._cursorBlink=function(){b.focus===this&&(this.cursorState^=1,this.refresh(this.y,this.y))},b.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},b.prototype.startBlink=function(){if(this.cursorBlink){var a=this;this._blinker=function(){a._cursorBlink()},this._blink=w(this._blinker,500)}},b.prototype.refreshBlink=function(){this.cursorBlink&&(clearInterval(this._blink),this._blink=w(this._blinker,500))},b.prototype.scroll=function(){var a;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,a=this.ybase+this.rows-1,a-=this.rows-1-this.scrollBottom,a===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(a,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},b.prototype.scrollDisp=function(a){this.ydisp+=a,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},b.prototype.write=function(a){var c,d,e,f=a.length,g=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());f>g;g++)switch(e=a[g],this.state){case n:switch(e){case"":this.bell();break;case"\n":case"":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=o;break;default:if(e>=" "&&(this.charset&&this.charset[e]&&(e=this.charset[e]),this.x>=this.cols&&(this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,e],this.x++,this.updateRange(this.y),i(e))){if(c=this.y+this.ybase,this.cols<2||this.x>=this.cols){this.lines[c][this.x-1]=[this.curAttr," "];break}this.lines[c][this.x]=[this.curAttr," "],this.x++}}break;case o:switch(e){case"[":this.params=[],this.currentParam=0,this.state=p;break;case"]":this.params=[],this.currentParam=0,this.state=q;break;case"P":this.params=[],this.currentParam=0,this.state=s;break;case"_":this.state=t;break;case"^":this.state=t;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,b.charsets.US),this.state=n,g++;break;case"(":case")":case"*":case"+":case"-":case".":switch(e){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=r;break;case"/":this.gcharset=3,this.state=r,g--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=n;break;case"8":this.restoreCursor(),this.state=n;break;case"#":this.state=n,g++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.state=n;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.state=n;break;default:this.state=n,this.error("Unknown ESC control: %s.",e)}break;case r:switch(e){case"0":d=b.charsets.SCLD;break;case"A":d=b.charsets.UK;break;case"B":d=b.charsets.US;break;case"4":d=b.charsets.Dutch;break;case"C":case"5":d=b.charsets.Finnish;break;case"R":d=b.charsets.French;break;case"Q":d=b.charsets.FrenchCanadian;break;case"K":d=b.charsets.German;break;case"Y":d=b.charsets.Italian;break;case"E":case"6":d=b.charsets.NorwegianDanish;break;case"Z":d=b.charsets.Spanish;break;case"H":case"7":d=b.charsets.Swedish;break;case"=":d=b.charsets.Swiss;break;case"/":d=b.charsets.ISOLatin,g++;break;default:d=b.charsets.US}this.setgCharset(this.gcharset,d),this.gcharset=null,this.state=n;break;case q:if(""===e||""===e){switch(""===e&&g++,this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this.params=[],this.currentParam=0,this.state=n}else this.params.length?this.currentParam+=e:e>="0"&&"9">=e?this.currentParam=10*this.currentParam+e.charCodeAt(0)-48:";"===e&&(this.params.push(this.currentParam),this.currentParam="");break;case p:if("?"===e||">"===e||"!"===e){this.prefix=e;break}if(e>="0"&&"9">=e){this.currentParam=10*this.currentParam+e.charCodeAt(0)-48;break}if("$"===e||'"'===e||" "===e||"'"===e){this.postfix=e;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===e)break;switch(this.state=n,e){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.charAttributes(this.params);break;case"n":this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",e)}this.prefix="",this.postfix="";break;case s:if(""===e||""===e){switch(""===e&&g++,this.prefix){case"":break;case"$q":var h=this.currentParam,j=!1;switch(h){case'"q':h='0"q';break;case'"p':h='61"p';break;case"r":h=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":h="0m";break;default:this.error("Unknown DCS Pt: %s.",h),h=""}this.send("P"+ +j+"$r"+h+"\\");break;case"+p":break;case"+q":var h=this.currentParam,j=!1;this.send("P"+ +j+"+r"+h+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=n}else this.currentParam?this.currentParam+=e:this.prefix||"$"===e||"+"===e?2===this.prefix.length?this.currentParam=e:this.prefix+=e:this.currentParam=e;break;case t:(""===e||""===e)&&(""===e&&g++,this.state=n)}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},b.prototype.writeln=function(a){this.write(a+"\r\n")},b.prototype.keyDown=function(a){var b,c=this;switch(a.keyCode){case 8:if(a.shiftKey){b="\b";break}b="";break;case 9:if(a.shiftKey){b="[Z";break}b="	";break;case 13:b="\r";break;case 27:b="";break;case 37:if(this.applicationCursor){b="OD";break}b="[D";break;case 39:if(this.applicationCursor){b="OC";break}b="[C";break;case 38:if(this.applicationCursor){b="OA";break}if(a.ctrlKey)return this.scrollDisp(-1),e(a);b="[A";break;case 40:if(this.applicationCursor){b="OB";break}if(a.ctrlKey)return this.scrollDisp(1),e(a);b="[B";break;case 46:b="[3~";break;case 45:b="[2~";break;case 36:if(this.applicationKeypad){b="OH";break}b="OH";break;case 35:if(this.applicationKeypad){b="OF";break}b="OF";break;case 33:if(a.shiftKey)return this.scrollDisp(-(this.rows-1)),e(a);b="[5~";break;case 34:if(a.shiftKey)return this.scrollDisp(this.rows-1),e(a);b="[6~";break;case 112:b="OP";break;case 113:b="OQ";break;case 114:b="OR";break;case 115:b="OS";break;case 116:b="[15~";break;case 117:b="[17~";break;case 118:b="[18~";break;case 119:b="[19~";break;case 120:b="[20~";break;case 121:b="[21~";break;case 122:b="[23~";break;case 123:b="[24~";break;default:if(a.ctrlKey)if(a.keyCode>=65&&a.keyCode<=90){if(this.screenKeys&&!this.prefixMode&&!this.selectMode&&65===a.keyCode)return this.enterPrefix(),e(a);if(this.prefixMode&&86===a.keyCode)return void this.leavePrefix();if((this.prefixMode||this.selectMode)&&67===a.keyCode)return void(this.visualMode&&v(function(){c.leaveVisual()},1));b=u.fromCharCode(a.keyCode-64)}else 32===a.keyCode?b=u.fromCharCode(0):a.keyCode>=51&&a.keyCode<=55?b=u.fromCharCode(a.keyCode-51+27):56===a.keyCode?b=u.fromCharCode(127):219===a.keyCode?b=u.fromCharCode(27):221===a.keyCode&&(b=u.fromCharCode(29));else(!this.isMac&&a.altKey||this.isMac&&a.metaKey)&&(a.keyCode>=65&&a.keyCode<=90?b=""+u.fromCharCode(a.keyCode+32):192===a.keyCode?b="`":a.keyCode>=48&&a.keyCode<=57&&(b=""+(a.keyCode-48)))}return b?this.prefixMode?(this.leavePrefix(),e(a)):this.selectMode?(this.keySelect(a,b),e(a)):(this.emit("keydown",a),this.emit("key",b,a),this.showCursor(),this.handler(b),e(a)):!0},b.prototype.setgLevel=function(a){this.glevel=a,this.charset=this.charsets[a]},b.prototype.setgCharset=function(a,b){this.charsets[a]=b,this.glevel===a&&(this.charset=b)},b.prototype.keyPress=function(a){var b;if(e(a),a.charCode)b=a.charCode;else if(null==a.which)b=a.keyCode;else{if(0===a.which||0===a.charCode)return!1;b=a.which}return!b||a.ctrlKey||a.altKey||a.metaKey?!1:(b=u.fromCharCode(b),this.prefixMode?(this.leavePrefix(),this.keyPrefix(a,b),!1):this.selectMode?(this.keySelect(a,b),!1):(this.emit("keypress",b,a),this.emit("key",b,a),this.showCursor(),this.handler(b),!1))},b.prototype.send=function(a){var b=this;this.queue||v(function(){b.handler(b.queue),b.queue=""},1),this.queue+=a},b.prototype.bell=function(){if(this.visualBell){var a=this;this.element.style.borderColor="white",v(function(){a.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},b.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var a=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,a)}},b.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var a=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,a)}},b.prototype.resize=function(a,b){var c,d,e,f,g;if(1>a&&(a=1),1>b&&(b=1),f=this.cols,a>f)for(g=[this.defAttr," "],e=this.lines.length;e--;)for(;this.lines[e].length<a;)this.lines[e].push(g);else if(f>a)for(e=this.lines.length;e--;)for(;this.lines[e].length>a;)this.lines[e].pop();if(this.setupStops(f),this.cols=a,f=this.rows,b>f)for(d=this.element;f++<b;)this.lines.length<b+this.ybase&&this.lines.push(this.blankLine()),this.children.length<b&&(c=this.document.createElement("div"),d.appendChild(c),this.children.push(c));else if(f>b)for(;f-->b;)if(this.lines.length>b+this.ybase&&this.lines.pop(),this.children.length>b){if(d=this.children.pop(),!d)continue;d.parentNode.removeChild(d)}this.rows=b,this.y>=b&&(this.y=b-1),this.x>=a&&(this.x=a-1),this.scrollTop=0,this.scrollBottom=b-1,this.refresh(0,this.rows-1),this.normal=null},b.prototype.updateRange=function(a){a<this.refreshStart&&(this.refreshStart=a),a>this.refreshEnd&&(this.refreshEnd=a)},b.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},b.prototype.setupStops=function(a){for(null!=a?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this.cols;a+=8)this.tabs[a]=!0},b.prototype.prevStop=function(a){for(null==a&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this.cols?this.cols-1:0>a?0:a},b.prototype.nextStop=function(a){for(null==a&&(a=this.x);!this.tabs[++a]&&a<this.cols;);return a>=this.cols?this.cols-1:0>a?0:a},b.prototype.eraseRight=function(a,b){for(var c=this.lines[this.ybase+b],d=[this.eraseAttr()," "];a<this.cols;a++)c[a]=d;this.updateRange(b)},b.prototype.eraseLeft=function(a,b){var c=this.lines[this.ybase+b],d=[this.eraseAttr()," "];for(a++;a--;)c[a]=d;this.updateRange(b)},b.prototype.eraseLine=function(a){this.eraseRight(0,a)},b.prototype.blankLine=function(a){for(var b=a?this.eraseAttr():this.defAttr,c=[b," "],d=[],e=0;e<this.cols;e++)d[e]=c;return d},b.prototype.ch=function(a){return a?[this.eraseAttr()," "]:[this.defAttr," "]},b.prototype.is=function(a){var b=this.termName;return 0===(b+"").indexOf(a)},b.prototype.handler=function(a){this.emit("data",a)},b.prototype.handleTitle=function(a){this.emit("title",a)},b.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=n},b.prototype.reverseIndex=function(){var a;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),a=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-a+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=n},b.prototype.reset=function(){b.call(this,this.options),this.refresh(0,this.rows-1)},b.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=n},b.prototype.cursorUp=function(a){var b=a[0];1>b&&(b=1),this.y-=b,this.y<0&&(this.y=0)},b.prototype.cursorDown=function(a){var b=a[0];1>b&&(b=1),this.y+=b,this.y>=this.rows&&(this.y=this.rows-1)},b.prototype.cursorForward=function(a){var b=a[0];1>b&&(b=1),this.x+=b,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.cursorBackward=function(a){var b=a[0];1>b&&(b=1),this.x-=b,this.x<0&&(this.x=0)},b.prototype.cursorPos=function(a){var b,c;b=a[0]-1,c=a.length>=2?a[1]-1:0,0>b?b=0:b>=this.rows&&(b=this.rows-1),0>c?c=0:c>=this.cols&&(c=this.cols-1),this.x=c,this.y=b},b.prototype.eraseInDisplay=function(a){var b;switch(a[0]){case 0:for(this.eraseRight(this.x,this.y),b=this.y+1;b<this.rows;b++)this.eraseLine(b);break;case 1:for(this.eraseLeft(this.x,this.y),b=this.y;b--;)this.eraseLine(b);break;case 2:for(b=this.rows;b--;)this.eraseLine(b);break;case 3:}},b.prototype.eraseInLine=function(a){switch(a[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},b.prototype.charAttributes=function(a){if(1===a.length&&0===a[0])return void(this.curAttr=this.defAttr);for(var b,c=a.length,d=0,e=this.curAttr>>18,f=this.curAttr>>9&511,g=511&this.curAttr;c>d;d++)b=a[d],b>=30&&37>=b?f=b-30:b>=40&&47>=b?g=b-40:b>=90&&97>=b?(b+=8,f=b-90):b>=100&&107>=b?(b+=8,g=b-100):0===b?(e=this.defAttr>>18,f=this.defAttr>>9&511,g=511&this.defAttr):1===b?e|=1:4===b?e|=2:5===b?e|=4:7===b?e|=8:8===b?e|=16:22===b?e&=-2:24===b?e&=-3:25===b?e&=-5:27===b?e&=-9:28===b?e&=-17:39===b?f=this.defAttr>>9&511:49===b?g=511&this.defAttr:38===b?2===a[d+1]?(d+=2,f=j(255&a[d],255&a[d+1],255&a[d+2]),-1===f&&(f=511),d+=2):5===a[d+1]&&(d+=2,b=255&a[d],f=b):48===b?2===a[d+1]?(d+=2,g=j(255&a[d],255&a[d+1],255&a[d+2]),-1===g&&(g=511),d+=2):5===a[d+1]&&(d+=2,b=255&a[d],g=b):100===b?(f=this.defAttr>>9&511,g=511&this.defAttr):this.error("Unknown SGR attribute: %d.",b);this.curAttr=e<<18|f<<9|g},b.prototype.deviceStatus=function(a){if(this.prefix){if("?"===this.prefix)switch(a[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}}else switch(a[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},b.prototype.insertChars=function(a){var b,c,d,e;for(b=a[0],1>b&&(b=1),c=this.y+this.ybase,d=this.x,e=[this.eraseAttr()," "];b--&&d<this.cols;)this.lines[c].splice(d++,0,e),this.lines[c].pop()},b.prototype.cursorNextLine=function(a){var b=a[0];1>b&&(b=1),this.y+=b,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},b.prototype.cursorPrecedingLine=function(a){var b=a[0];1>b&&(b=1),this.y-=b,this.y<0&&(this.y=0),this.x=0},b.prototype.cursorCharAbsolute=function(a){var b=a[0];1>b&&(b=1),this.x=b-1},b.prototype.insertLines=function(a){var b,c,d;for(b=a[0],1>b&&(b=1),c=this.y+this.ybase,d=this.rows-1-this.scrollBottom,d=this.rows-1+this.ybase-d+1;b--;)this.lines.splice(c,0,this.blankLine(!0)),this.lines.splice(d,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},b.prototype.deleteLines=function(a){var b,c,d;for(b=a[0],1>b&&(b=1),c=this.y+this.ybase,d=this.rows-1-this.scrollBottom,d=this.rows-1+this.ybase-d;b--;)this.lines.splice(d+1,0,this.blankLine(!0)),this.lines.splice(c,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},b.prototype.deleteChars=function(a){var b,c,d;for(b=a[0],1>b&&(b=1),c=this.y+this.ybase,d=[this.eraseAttr()," "];b--;)this.lines[c].splice(this.x,1),this.lines[c].push(d)},b.prototype.eraseChars=function(a){var b,c,d,e;for(b=a[0],1>b&&(b=1),c=this.y+this.ybase,d=this.x,e=[this.eraseAttr()," "];b--&&d<this.cols;)this.lines[c][d++]=e},b.prototype.charPosAbsolute=function(a){var b=a[0];1>b&&(b=1),this.x=b-1,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.HPositionRelative=function(a){var b=a[0];1>b&&(b=1),this.x+=b,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.sendDeviceAttributes=function(a){a[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(a[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},b.prototype.linePosAbsolute=function(a){var b=a[0];1>b&&(b=1),this.y=b-1,this.y>=this.rows&&(this.y=this.rows-1)},b.prototype.VPositionRelative=function(a){var b=a[0];1>b&&(b=1),this.y+=b,this.y>=this.rows&&(this.y=this.rows-1)},b.prototype.HVPosition=function(a){a[0]<1&&(a[0]=1),a[1]<1&&(a[1]=1),this.y=a[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=a[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.setMode=function(a){if("object"!=typeof a)if(this.prefix){if("?"===this.prefix)switch(a){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,b.charsets.US),this.setgCharset(1,b.charsets.US),this.setgCharset(2,b.charsets.US),this.setgCharset(3,b.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=9===a,this.vt200Mouse=1e3===a,this.normalMouse=a>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var c={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=c,this.showCursor()}}}else switch(a){case 4:this.insertMode=!0;break;case 20:}else for(var d=a.length,e=0;d>e;e++)this.setMode(a[e])},b.prototype.resetMode=function(a){if("object"!=typeof a)if(this.prefix){if("?"===this.prefix)switch(a){case 1:this.applicationCursor=!1;break;case 3:132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}}else switch(a){case 4:this.insertMode=!1;break;case 20:}else for(var b=a.length,c=0;b>c;c++)this.resetMode(a[c])},b.prototype.setScrollRegion=function(a){this.prefix||(this.scrollTop=(a[0]||1)-1,this.scrollBottom=(a[1]||this.rows)-1,this.x=0,this.y=0)},b.prototype.saveCursor=function(){this.savedX=this.x,this.savedY=this.y},b.prototype.restoreCursor=function(){this.x=this.savedX||0,this.y=this.savedY||0},b.prototype.cursorForwardTab=function(a){for(var b=a[0]||1;b--;)this.x=this.nextStop()},b.prototype.scrollUp=function(a){for(var b=a[0]||1;b--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},b.prototype.scrollDown=function(a){for(var b=a[0]||1;b--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},b.prototype.initMouseTracking=function(){},b.prototype.resetTitleModes=function(){},b.prototype.cursorBackwardTab=function(a){for(var b=a[0]||1;b--;)this.x=this.prevStop()},b.prototype.repeatPrecedingCharacter=function(a){for(var b=a[0]||1,c=this.lines[this.ybase+this.y],d=c[this.x-1]||[this.defAttr," "];b--;)c[this.x++]=d},b.prototype.tabClear=function(a){var b=a[0];0>=b?delete this.tabs[this.x]:3===b&&(this.tabs={})},b.prototype.mediaCopy=function(){},b.prototype.setResources=function(){},b.prototype.disableModifiers=function(){},b.prototype.setPointerMode=function(){},b.prototype.softReset=function(){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},b.prototype.requestAnsiMode=function(){},b.prototype.requestPrivateMode=function(){},b.prototype.setConformanceLevel=function(){},b.prototype.loadLEDs=function(){},b.prototype.setCursorStyle=function(){},b.prototype.setCharProtectionAttr=function(){},b.prototype.restorePrivateValues=function(){},b.prototype.setAttrInRectangle=function(a){for(var b,c,d=a[0],e=a[1],f=a[2],g=a[3],h=a[4];f+1>d;d++)for(b=this.lines[this.ybase+d],c=e;g>c;c++)b[c]=[h,b[c][1]];this.updateRange(a[0]),this.updateRange(a[2])},b.prototype.savePrivateValues=function(){},b.prototype.manipulateWindow=function(){},b.prototype.reverseAttrInRectangle=function(){},b.prototype.setTitleModeFeature=function(){},b.prototype.setWarningBellVolume=function(){},b.prototype.setMarginBellVolume=function(){},b.prototype.copyRectangle=function(){},b.prototype.enableFilterRectangle=function(){},b.prototype.requestParameters=function(){},b.prototype.selectChangeExtent=function(){},b.prototype.fillRectangle=function(a){for(var b,c,d=a[0],e=a[1],f=a[2],g=a[3],h=a[4];g+1>e;e++)for(b=this.lines[this.ybase+e],c=f;h>c;c++)b[c]=[b[c][0],u.fromCharCode(d)];
this.updateRange(a[1]),this.updateRange(a[3])},b.prototype.enableLocatorReporting=function(a){a[0]>0},b.prototype.eraseRectangle=function(a){var b,c,d,e=a[0],f=a[1],g=a[2],h=a[3];for(d=[this.eraseAttr()," "];g+1>e;e++)for(b=this.lines[this.ybase+e],c=f;h>c;c++)b[c]=d;this.updateRange(a[0]),this.updateRange(a[2])},b.prototype.setLocatorEvents=function(){},b.prototype.selectiveEraseRectangle=function(){},b.prototype.requestLocatorPosition=function(){},b.prototype.insertColumns=function(){for(var a,b=params[0],c=this.ybase+this.rows,d=[this.eraseAttr()," "];b--;)for(a=this.ybase;c>a;a++)this.lines[a].splice(this.x+1,0,d),this.lines[a].pop();this.maxRange()},b.prototype.deleteColumns=function(){for(var a,b=params[0],c=this.ybase+this.rows,d=[this.eraseAttr()," "];b--;)for(a=this.ybase;c>a;a++)this.lines[a].splice(this.x,1),this.lines[a].push(d);this.maxRange()},b.prototype.enterPrefix=function(){this.prefixMode=!0},b.prototype.leavePrefix=function(){this.prefixMode=!1},b.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write},this.write=function(){},this.selectMode=!0,this.visualMode=!1,this.cursorHidden=!1,this.refresh(this.y,this.y)},b.prototype.leaveSelect=function(){this.x=this._real.x,this.y=this._real.y,this.ydisp=this._real.ydisp,this.ybase=this._real.ybase,this.cursorHidden=this._real.cursorHidden,this.lines=this._real.lines,this.write=this._real.write,delete this._real,this.selectMode=!1,this.visualMode=!1,this.refresh(0,this.rows-1)},b.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines),this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y),this.visualMode=!0},b.prototype.leaveVisual=function(){this.lines=this._real.preVisual,delete this._real.preVisual,delete this._selected,this.visualMode=!1,this.refresh(0,this.rows-1)},b.prototype.enterSearch=function(a){this.entry="",this.searchMode=!0,this.searchDown=a,this._real.preSearch=this.copyBuffer(this.lines),this._real.preSearchX=this.x,this._real.preSearchY=this.y,this.entryPrefix="Search: ";for(var b=this.ydisp+this.rows-1,c=0;c<this.entryPrefix.length;c++)this.lines[b][c]=[-512&this.defAttr|4,this.entryPrefix[c]];this.y=this.rows-1,this.x=this.entryPrefix.length,this.refresh(this.rows-1,this.rows-1)},b.prototype.leaveSearch=function(){this.searchMode=!1,this._real.preSearch&&(this.lines=this._real.preSearch,this.x=this._real.preSearchX,this.y=this._real.preSearchY,delete this._real.preSearch,delete this._real.preSearchX,delete this._real.preSearchY),this.refresh(this.rows-1,this.rows-1)},b.prototype.copyBuffer=function(a){for(var a=a||this.lines,b=[],c=0;c<a.length;c++){b[c]=[];for(var d=0;d<a[c].length;d++)b[c][d]=[a[c][d][0],a[c][d][1]]}return b},b.prototype.getCopyTextarea=function(){var a=this._copyTextarea,b=this.document;return a||(a=b.createElement("textarea"),a.style.position="absolute",a.style.left="-32000px",a.style.top="-32000px",a.style.width="0px",a.style.height="0px",a.style.opacity="0",a.style.backgroundColor="transparent",a.style.borderStyle="none",a.style.outlineStyle="none",b.getElementsByTagName("body")[0].appendChild(a),this._copyTextarea=a),a},b.prototype.copyText=function(a){var b=this,c=this.getCopyTextarea();this.emit("copy",a),c.focus(),c.textContent=a,c.value=a,c.setSelectionRange(0,a.length),v(function(){b.element.focus(),b.focus()},1)},b.prototype.selectText=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;if(this._selected){for(e=this._selected.x1,f=this._selected.x2,g=this._selected.y1,h=this._selected.y2,g>h&&(i=f,f=e,e=i,i=h,h=g,g=i),e>f&&g===h&&(i=f,f=e,e=i),k=g;h>=k;k++)for(j=0,l=this.cols-1,k===g&&(j=e),k===h&&(l=f);l>=j;j++)null!=this.lines[k][j].old&&(m=this.lines[k][j].old,delete this.lines[k][j].old,this.lines[k][j]=[m,this.lines[k][j][1]]);c=this._selected.y1,a=this._selected.x1}for(c=Math.max(c,0),c=Math.min(c,this.ydisp+this.rows-1),d=Math.max(d,0),d=Math.min(d,this.ydisp+this.rows-1),this._selected={x1:a,x2:b,y1:c,y2:d},c>d&&(i=b,b=a,a=i,i=d,d=c,c=i),a>b&&c===d&&(i=b,b=a,a=i),k=c;d>=k;k++)for(j=0,l=this.cols-1,k===c&&(j=a),k===d&&(l=b);l>=j;j++)m=this.lines[k][j][0],this.lines[k][j]=[-512&m|261636,this.lines[k][j][1]],this.lines[k][j].old=m;c-=this.ydisp,d-=this.ydisp,c=Math.max(c,0),c=Math.min(c,this.rows-1),d=Math.max(d,0),d=Math.min(d,this.rows-1),this.refresh(0,this.rows-1)},b.prototype.grabText=function(a,b,c,d){var e,f,g,h,j,k="",l="";for(c>d&&(j=b,b=a,a=j,j=d,d=c,c=j),a>b&&c===d&&(j=b,b=a,a=j),g=c;d>=g;g++){for(f=0,h=this.cols-1,g===c&&(f=a),g===d&&(h=b);h>=f;f++)e=this.lines[g][f][1]," "!==e?(l&&(k+=l,l=""),k+=e,i(e)&&f++):l+=e;l="",k+="\n"}for(f=b,g=d;f<this.cols;f++)if(" "!==this.lines[g][f][1]){k=k.slice(0,-1);break}return k},b.prototype.keyPrefix=function(a,b){"k"===b||"&"===b?this.destroy():"p"===b||"]"===b?this.emit("request paste"):"c"===b?this.emit("request create"):b>="0"&&"9">=b?(b=+b-1,~b||(b=9),this.emit("request term",b)):"n"===b?this.emit("request term next"):"P"===b?this.emit("request term previous"):":"===b?this.emit("request command mode"):"["===b&&this.enterSelect()},b.prototype.keySelect=function(a,b){if(this.showCursor(),this.searchMode||"n"===b||"N"===b)return this.keySearch(a,b);if(""===b){var c=this.ydisp+this.y;return this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y))}if(""===b){var c=this.ydisp+this.y;return 0===this.ydisp?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y))}if(""===b){var c=this.ydisp+this.y;return this.scrollDisp(this.rows-1),void(this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y))}if(""===b){var c=this.ydisp+this.y;return this.scrollDisp(-(this.rows-1)),void(this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y))}if("k"===b){var c=this.ydisp+this.y;return this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),void(this.visualMode?this.selectText(this.x,this.x,c,this.ydisp+this.y):this.refresh(this.y,this.y+1))}if("j"===b){var c=this.ydisp+this.y;return this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),void(this.visualMode?this.selectText(this.x,this.x,c,this.ydisp+this.y):this.refresh(this.y-1,this.y))}if("h"===b){var d=this.x;return this.x--,this.x<0&&(this.x=0),void(this.visualMode?this.selectText(this.x,d,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("l"===b){var d=this.x;return this.x++,this.x>=this.cols&&(this.x=this.cols-1),void(this.visualMode?this.selectText(d,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("v"===b||" "===b)return void(this.visualMode?this.leaveVisual():this.enterVisual());if("y"!==b){if("q"===b)return void(this.visualMode?this.leaveVisual():this.leaveSelect());if("w"===b||"W"===b){for(var e=this.x,f=this.y,g=this.ydisp,d=this.x,c=this.y,h=this.ydisp,i=!1;;){for(var j=this.lines[h+c];d<this.cols;){if(j[d][1]<=" ")i=!0;else if(i)break;d++}if(d>=this.cols&&(d=this.cols-1),!(d===this.cols-1&&j[d][1]<=" "))break;if(d=0,++c>=this.rows&&(c--,++h>this.ybase)){h=this.ybase,d=this.x;break}}return this.x=d,this.y=c,this.scrollDisp(-this.ydisp+h),void(this.visualMode&&this.selectText(e,this.x,f+g,this.ydisp+this.y))}if("b"===b||"B"===b){for(var e=this.x,f=this.y,g=this.ydisp,d=this.x,c=this.y,h=this.ydisp;;){for(var j=this.lines[h+c],i=d>0&&j[d][1]>" "&&j[d-1][1]>" ";d>=0;){if(j[d][1]<=" "){if(i&&d+1<this.cols&&j[d+1][1]>" "){d++;break}i=!0}d--}if(0>d&&(d=0),0!==d||!(j[d][1]<=" ")&&i)break;if(d=this.cols-1,--c<0&&(c++,--h<0)){h++,d=0;break}}return this.x=d,this.y=c,this.scrollDisp(-this.ydisp+h),void(this.visualMode&&this.selectText(this.x,e,this.ydisp+this.y,f+g))}if("e"===b||"E"===b){var d=this.x+1,c=this.y,h=this.ydisp;for(d>=this.cols&&d--;;){for(var j=this.lines[h+c];d<this.cols&&j[d][1]<=" ";)d++;for(;d<this.cols;){if(j[d][1]<=" "&&d-1>=0&&j[d-1][1]>" "){d--;break}d++}if(d>=this.cols&&(d=this.cols-1),!(d===this.cols-1&&j[d][1]<=" "))break;if(d=0,++c>=this.rows&&(c--,++h>this.ybase)){h=this.ybase;break}}return this.x=d,this.y=c,this.scrollDisp(-this.ydisp+h),void(this.visualMode&&this.selectText(e,this.x,f+g,this.ydisp+this.y))}if("^"===b||"0"===b){var e=this.x;if("0"===b)this.x=0;else if("^"===b){for(var j=this.lines[this.ydisp+this.y],d=0;d<this.cols&&!(j[d][1]>" ");)d++;d>=this.cols&&(d=this.cols-1),this.x=d}return void(this.visualMode?this.selectText(this.x,e,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("$"===b){for(var e=this.x,j=this.lines[this.ydisp+this.y],d=this.cols-1;d>=0;){if(j[d][1]>" "){this.visualMode&&d<this.cols-1&&d++;break}d--}return 0>d&&(d=0),this.x=d,void(this.visualMode?this.selectText(e,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("g"===b||"G"===b){var e=this.x,f=this.y,g=this.ydisp;return"g"===b?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):"G"===b&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)),void(this.visualMode&&this.selectText(e,this.x,f+g,this.ydisp+this.y))}if("H"===b||"M"===b||"L"===b){var e=this.x,f=this.y;return"H"===b?(this.x=0,this.y=0):"M"===b?(this.x=0,this.y=this.rows/2|0):"L"===b&&(this.x=0,this.y=this.rows-1),void(this.visualMode?this.selectText(e,this.x,this.ydisp+f,this.ydisp+this.y):(this.refresh(f,f),this.refresh(this.y,this.y)))}if("{"===b||"}"===b){var j,k,e=this.x,f=this.y,g=this.ydisp,l=!1,m=!1,n=-1,c=this.y+("{"===b?-1:1),h=this.ydisp;for("{"===b?0>c&&(c++,h>0&&h--):"}"===b&&c>=this.rows&&(c--,h<this.ybase&&h++);;){for(j=this.lines[h+c],k=0;k<this.cols;k++){if(j[k][1]>" "){-1===n&&(n=0),l=!0;break}if(k===this.cols-1){-1===n?n=1:0===n?m=!0:1===n&&l&&(m=!0);break}}if(m)break;if("{"===b){if(c--,0>c){if(c++,!(h>0))break;h--}}else if("}"===b&&(c++,c>=this.rows)){if(c--,!(h<this.ybase))break;h++}}return m||("{"===b?(c=0,h=0):"}"===b&&(c=this.rows-1,h=this.ybase)),this.x=0,this.y=c,this.scrollDisp(-this.ydisp+h),void(this.visualMode&&this.selectText(e,this.x,f+g,this.ydisp+this.y))}return"/"===b||"?"===b?void(this.visualMode||this.enterSearch("/"===b)):!1}if(this.visualMode){var o=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(o),this.leaveVisual()}},b.prototype.keySearch=function(a,b){if(""===b)return void this.leaveSearch();if("\r"===b||!this.searchMode&&("n"===b||"N"===b)){this.leaveSearch();var c=this.entry;if(!c)return void this.refresh(0,this.rows-1);for(var d,e,f,g=this.x,h=this.y,i=this.ydisp,j=!1,k=!1,l=this.x+1,m=this.ydisp+this.y,n="N"===b?this.searchDown:!this.searchDown;;){for(d=this.lines[m];l<this.cols;){for(f=0;f<c.length&&!(l+f>=this.cols)&&d[l+f][1]===c[f];f++)if(d[l+f][1]===c[f]&&f===c.length-1){j=!0;break}if(j)break;l+=f+1}if(j)break;if(l=0,n){if(m--,0>m){if(k)break;k=!0,m=this.ybase+this.rows-1}}else if(m++,m>this.ybase+this.rows-1){if(k)break;k=!0,m=0}}return j?(m-this.ybase<0?(e=m,m=0,e>this.ybase&&(m=e-this.ybase,e=this.ybase)):(e=this.ybase,m-=this.ybase),this.x=l,this.y=m,this.scrollDisp(-this.ydisp+e),void(this.visualMode&&this.selectText(g,this.x,h+i,this.ydisp+this.y))):void this.refresh(0,this.rows-1)}if("\b"===b||""===b){if(0===this.entry.length)return;var o=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var f=this.entryPrefix.length+this.entry.length;return this.lines[o][f]=[this.lines[o][f][0]," "],this.x--,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}if(1===b.length&&b>=" "&&"~">=b){var o=this.ydisp+this.rows-1;this.entry+=b;var f=this.entryPrefix.length+this.entry.length-1;return this.lines[o][f]=[-512&this.defAttr|4,b],this.x++,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}return!1},b.charsets={},b.charsets.SCLD={"`":"â—†",a:"â–’",b:"	",c:"\f",d:"\r",e:"\n",f:"Â°",g:"Â±",h:"â¤",i:"",j:"â”˜",k:"â”",l:"â”Œ",m:"â””",n:"â”¼",o:"âŽº",p:"âŽ»",q:"â”€",r:"âŽ¼",s:"âŽ½",t:"â”œ",u:"â”¤",v:"â”´",w:"â”¬",x:"â”‚",y:"â‰¤",z:"â‰¥","{":"Ï€","|":"â‰ ","}":"Â£","~":"Â·"},b.charsets.UK=null,b.charsets.US=null,b.charsets.Dutch=null,b.charsets.Finnish=null,b.charsets.French=null,b.charsets.FrenchCanadian=null,b.charsets.German=null,b.charsets.Italian=null,b.charsets.NorwegianDanish=null,b.charsets.Spanish=null,b.charsets.Swedish=null,b.charsets.Swiss=null,b.charsets.ISOLatin=null;var u=this.String,v=this.setTimeout,w=this.setInterval;j._cache={},j.distance=function(a,b,c,d,e,f){return Math.pow(30*(a-d),2)+Math.pow(59*(b-e),2)+Math.pow(11*(c-f),2)},b.EventEmitter=a,b.inherits=f,b.on=c,b.off=d,b.cancel=e,"undefined"!=typeof module?module.exports=b:this.Terminal=b}.call(function(){return this||("undefined"!=typeof window?window:global)}());var app=angular.module("KDockerWeb",["ngAnimate","ui.bootstrap","pascalprecht.translate","LocalStorageModule"]).provider("DockerData",function(){function a(a){var b=this;b.version="0.1.9",b.locales=[{id:"en",name:"English"},{id:"zh_tw",name:"æ­£é«”ä¸­æ–‡"}],b.autobind={nickname:{init:""},host:{init:""},port:{init:4243},apiver:{init:"v1.10"},apiurl:{init:""},containers:{init:[]},images:{init:[]},lastCreateImage:{init:""},dockerList:{init:[]}},b.init=function(){angular.forEach(b.autobind,function(a){delete a.value})},b.reset=function(){b.init(),a.clearAll()},b.getApiUrl=function(a){if(a=a||b,!a.host)return"";var c="http://"+a.host+":"+a.port;return a.apiver&&(c+="/"+a.apiver),c},angular.forEach(a.keys(),function(c){var d,e=b.autobind[c]?b.autobind[c].init:b[c];d=angular.isNumber(e)?+a.get(c):"boolean"==typeof e?"false"!=a.get(c):a.get(c),b[c]===d?a.remove(c):b[c]=d}),angular.forEach(b.autobind,function(c,d){void 0!==b[d]&&b[d]!==b.autobind[d].init&&(b.autobind[d].value=b[d]),b.__defineGetter__(d,function(){return void 0===b.autobind[d].value?angular.copy(b.autobind[d].init):b.autobind[d].value}),b.__defineSetter__(d,function(c){if(d in{containers:1,images:1,dockerList:1}&&angular.isArray(c)&&c.length<1&&(c=void 0),b.autobind[d].init===c||void 0===c?(delete b.autobind[d].value,a.remove(d)):(b.autobind[d].value=c,a.set(d,c)),d in{containers:1,images:1}){var e=!1;angular.forEach(b.dockerList,function(a){a.apiurl==b.apiurl&&(a.containers=b.containers,a.images=b.images,e=!0)}),e&&a.set("dockerList",b.dockerList)}d in{host:1,port:1,apiver:1}&&(b.apiurl=b.getApiUrl(),b.containers=[],b.images=[])})})}this.$get=["localStorageService",function(b){return new a(b)}]}).provider("LocationHash",function(){function a(){var a=this;a.autobind={tab:{init:"Containers"}},a.getCurMinObj=function(){var b={},c=!0;return angular.forEach(a.autobind,function(d,e){void 0!==a.autobind[e].value&&(b[e]=a.autobind[e].value,c=!1)}),c?null:b},angular.forEach(a.autobind,function(b,c){void 0!==a[c]&&a[c]!==a.autobind[c].init&&(a.autobind[c].value=a[c]),a.__defineGetter__(c,function(){return void 0===a.autobind[c].value?angular.copy(a.autobind[c].init):a.autobind[c].value}),a.__defineSetter__(c,function(b){a.autobind[c].init===b||void 0===b?delete a.autobind[c].value:a.autobind[c].value=b;var d=a.getCurMinObj();location.hash=d?JSON.stringify(d):""})});try{var b=location.hash.replace(/^#/,""),c=JSON.parse(b);angular.forEach(a.autobind,function(b,d){a[d]=c[d]})}catch(d){}}this.$get=function(){return new a}}).config(["$httpProvider",function(a){a.interceptors.push(["$q","DockerData","$filter",function(a,b,c){return{responseError:function(d){return b.IndexCtrl&&d.config.errmsg&&b.IndexCtrl.error("["+d.status+"]",c("translate")(d.config.errmsg),d.data?":":"",d.data),a.reject(d)}}}])}]);app.config(["$translateProvider",function(a){a.translations("zh_tw",{OK:"ç¢ºå®š",Cancel:"å–æ¶ˆ",Config:"è¨­å®š",Description:"èªªæ˜Ž",Status:"ç‹€æ…‹",Create:"å»ºç«‹",Action:"æ“ä½œ",Attach:"é€£ç·š",Start:"å•Ÿå‹•",Stop:"åœæ­¢",Remove:"åˆªé™¤",Reset:"é‡è¨­","Port Type":"é¡žåž‹","More options":"æ›´å¤šè¨­å®š","Init start config":"åˆå§‹åŒ–è¨­å®šåƒæ•¸","Get container list failed":"ç„¡æ³•å–å¾— Container åˆ—è¡¨","Get image list failed":"ç„¡æ³•å–å¾— Image åˆ—è¡¨","Create container failed":"ç„¡æ³•å»ºç«‹ Container","Start container failed":"ç„¡æ³•å•Ÿå‹• Container","Stop container failed":"ç„¡æ³•åœæ­¢ Container","Remove container failed":"ç„¡æ³•åˆªé™¤ Container","Remove image failed":"ç„¡æ³•åˆªé™¤ Image","Disconnect to docker web service.":"èˆ‡ Docker é€£ç·šä¸­æ–·ã€‚","Please check network and refresh page.":"è«‹æª¢æŸ¥ç¶²è·¯é€£ç·šä¸¦é‡æ–°æ•´ç†æ­¤ç¶²é ã€‚","WebSocket connected: {{url}}":"WebSocket å·²é€£ç·š: {{url}}","WebSocket error: {{url}}":"WebSocket éŒ¯èª¤: {{url}}","WebSocket closed: {{url}}":"WebSocket å·²ä¸­æ–·: {{url}}","Press [SHIFT] to reload container list too.":"æŒ‰ä½ [SHIFT] éµå¯åŒæ™‚æ›´æ–° Container åˆ—è¡¨","Press [SHIFT] to reload image list too.":"æŒ‰ä½ [SHIFT] éµå¯åŒæ™‚æ›´æ–° Image åˆ—è¡¨","Press [SHIFT] to load full logs.":"æŒ‰ä½ [SHIFT] éµå¯è¼‰å…¥å®Œæ•´ç´€éŒ„",Size:"å¤§å°","Create Time":"å»ºç«‹æ™‚é–“",Nickname:"åç¨±","API Version":"API ç‰ˆæœ¬","Tips:":"å°æç¤ºï¼š","If you connect to docker remote api failed, try the following steps:":"å¦‚æžœæ‚¨é€£ç·šåˆ° Docker Remote API æ™‚å‡ºç¾å•é¡Œï¼Œè«‹å˜—è©¦ä¸‹åˆ—æ­¥é©Ÿï¼š","Check docker remote api port is opened, and not blocked by firewall.":"æª¢æŸ¥ Docker Remote API çš„ Port æ˜¯å¦é–‹å•Ÿï¼Œä¸¦æª¢æŸ¥é˜²ç«ç‰†çš„è¨­å®šã€‚","Downgrade the api version, like v1.9, v1.8...etc, or keep empty.":"è©¦è‘—å°‡ API çš„ç‰ˆæœ¬é™ä½Žï¼Œä¾‹å¦‚ v1.9 æˆ–æ˜¯ v1.8 ï¼Œä¹Ÿå¯ä»¥è©¦è‘—ç•™ç©ºã€‚","Click Reset button and try again.":"é»žæ“Šé‡è¨­æŒ‰éˆ•ï¼Œå†è¨­å®šä¸€æ¬¡ã€‚"});var b={};angular.forEach(a.translations("zh_tw"),function(a,c){c.match(/{{.*}}/)&&(b[c]=c)}),a.translations("en",b).registerAvailableLanguageKeys(["en","zh_tw"],{en_us:"en",en_uk:"en",zh_cn:"zh_tw",zh_hk:"zh_tw"}).useStorage("localStorageService").determinePreferredLanguage()}]),app.controller("ConfigCtrl",["$scope","DockerData",function(a,b){a.DockerData=b,b.ConfigCtrl=a,a.addDocker=function(){if(b.host){var c=a.DockerData.dockerList;c.unshift({nickname:a.DockerData.nickname,host:a.DockerData.host,port:a.DockerData.port,apiver:a.DockerData.apiver,apiurl:a.DockerData.apiurl,containers:a.DockerData.containers,images:a.DockerData.images,lastCreateImage:a.DockerData.lastCreateImage}),a.DockerData.dockerList=c}},a.delDocker=function(b){var c=a.DockerData.dockerList;c.splice(b,1),a.DockerData.dockerList=c},a.setDocker=function(a){a=angular.copy(a),angular.forEach(["nickname","host","port","apiver","containers","images","lastCreateImage"],function(c){b[c]=a[c]})},a.moveUp=function(b){var c=a.DockerData.dockerList;c.splice(b-1,0,c.splice(b,1)[0]),a.DockerData.dockerList=c},a.moveDown=function(b){var c=a.DockerData.dockerList;c.splice(b+1,0,c.splice(b,1)[0]),a.DockerData.dockerList=c}}]),app.controller("ContainerCtrl",["$scope","$filter","$http","DockerData","$modal","$rootScope",function(a,b,c,d,e,f){a.DockerData=d,d.ContainerCtrl=a,a.tabs=[],a.curtab=null,a.reload=function(b){d.host&&!a.loadingCtrl.container&&(a.loadingCtrl.container=!0,b&&b.shiftKey&&f.$emit("reload-image"),c.get(d.apiurl+"/containers/json?all=1",{errmsg:"Get container list failed"}).success(function(b){angular.forEach(b,function(a){a.name=a.Names.join().substr(1),a.running=!!a.Status.match(/^Up /)}),a.DockerData.containers=b,a.loadingCtrl.container=!1}).error(function(){a.loadingCtrl.container=!1}))},a.checkReload=function(){a.DockerData.containers.length||a.reload()},a.attach=function(b,c){if(a.curtab=c,c){for(var d=0;d<a.tabs.length;d++){var e=a.tabs[d];if(c.Id===e.Id)return}a.tabs.unshift(c),c.terminal||(c.terminal=new Terminal,a.setupWebsocket(b,c))}},a.start=function(b,e){c.post(d.apiurl+"/containers/"+b.Id+"/start",e,{errmsg:"Start container failed"}).success(function(){a.reload()})},a.stop=function(b){c.post(d.apiurl+"/containers/"+b.Id+"/stop",{},{errmsg:"Stop container failed"}).success(function(){a.reload()})},a.remove=function(b){c.delete(d.apiurl+"/containers/"+b.Id+"?v=1&force=1",{errmsg:"Remove container failed"}).success(function(){a.reload()})},a.setupWebsocket=function(c,e){return document.getElementById(e.Id+"_terminal")?(e.terminal.open(document.getElementById(e.Id+"_terminal")),c.shiftKey,e.websocket=new WebSocket(d.apiurl.replace(/^http/,"ws")+"/containers/"+e.Id+"/attach/ws?stderr=1&stdout=1&stream=1&stdin=1"+(c.shiftKey?"&logs=1":"&logs=0")),e.websocket.onopen=function(a){e.terminal.write(b("translate")("WebSocket connected: {{url}}",{url:a.target.URL}))},e.websocket.onerror=function(a){e.terminal.write(b("translate")("WebSocket error: {{url}}",{url:a.target.URL}))},e.websocket.onclose=function(c){e.terminal.write(b("translate")("WebSocket closed: {{url}}",{url:c.target.URL})),e.terminal.destroy(),delete e.terminal,delete e.websocket,a.closeContainer(e)},e.websocket.onmessage=function(a){e.terminal.write(a.data)},void e.terminal.on("data",function(a){e.websocket.send(a)})):void setTimeout(function(){a.setupWebsocket(c,e)},500)},a.openCreateContainerModal=function(){e.open({templateUrl:"index/CreateContainerModalContent.html",controller:"CreateContainerModalCtrl"}).result.then(function(b){var e="";b.param.Name&&(e="?name="+b.param.Name),c.post(d.apiurl+"/containers/create"+e,b.param,{errmsg:"Create container failed"}).success(function(c){a.start(c,b.startconfig)})})},a.openStartContainerModal=function(b){e.open({templateUrl:"index/StartContainerModalContent.html",controller:"StartContainerModalCtrl",resolve:{container:function(){return b}}}).result.then(function(b){a.start(b.container,b.param)})},a.closeContainer=function(b){for(var c=0;c<a.tabs.length;c++)if(b.Id===a.tabs[c].Id){var d=a.tabs.splice(c,1)[0];return d.websocket&&d.websocket.close(),void(a.curtab=null)}},f.$on("reload-container",function(){a.reload()}),a.$watch("DockerData.IndexCtrl.tab",function(b){"Containers"==b&&a.checkReload()})}]),app.controller("CreateContainerModalCtrl",["$scope","$modalInstance","DockerData",function(a,b,c){a.DockerData=c,a.param={Name:"",Cmd:"",Hostname:"",User:"",Memory:0,MemorySwap:0,AttachStdin:!0,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!0,StdinOnce:!1,Volumes:{},ExposedPorts:{}},a.startconfig={Binds:[],PortBindings:{},PublishAllPorts:!0,Privileged:!1},a.extra={Volumes:"",Ports:""},a.moreOptions=!1,a.form={ExposedPorts:""},c.lastCreateImage?a.param.Image=c.lastCreateImage:c.images[0]&&(a.param.Image=c.images[0].Id),a.ok=function(){c.lastCreateImage=a.param.Image,angular.forEach(a.form.ExposedPorts.split(/\s+/),function(b){b=(b||"").trim(),b&&(a.param.ExposedPorts[b]={})}),angular.forEach(a.extra.Volumes.split(/\s+/),function(b){b=(b||"").trim(),b&&(b.match(/:/)?(a.param.Volumes[b.split(/:/)[1].trim()]={},a.startconfig.Binds.push(b)):a.param.Volumes[b]={})}),angular.forEach(a.extra.Ports.split(/\s+/),function(b){if(b=(b||"").trim())if(b.match(/:/)){var c=b.split(/:/)[0].trim(),d=b.split(/:/)[1].trim();a.startconfig.PortBindings[d]=a.startconfig.PortBindings[d]||[],a.startconfig.PortBindings[d].push({HostPort:c})}else a.startconfig.PortBindings[b]=[{}]}),b.close({param:a.param,startconfig:a.startconfig})},a.cancel=function(){b.dismiss("cancel")}}]),app.controller("ImageCtrl",["$scope","DockerData","$http","$rootScope",function(a,b,c,d){a.DockerData=b,b.ImageCtrl=a,a.reload=function(e){b.host&&!a.loadingCtrl.image&&(a.loadingCtrl.image=!0,e&&e.shiftKey&&d.$emit("reload-container"),c.get(b.apiurl+"/images/json?all=0",{errmsg:"Get image list failed"}).success(function(b){a.DockerData.images=b,a.loadingCtrl.image=!1}).error(function(){a.loadingCtrl.image=!1}))},a.checkReload=function(){a.DockerData.images.length||a.reload()},a.remove=function(d){c.delete(b.apiurl+"/images/"+d.Id,{errmsg:"Remove image failed"}).success(function(){a.reload()})},a.removeTag=function(d){c.delete(b.apiurl+"/images/"+d,{errmsg:"Remove tag failed"}).success(function(){a.reload()})},d.$on("reload-image",function(){a.reload()}),a.$watch("DockerData.IndexCtrl.tab",function(b){b in{Images:1,Containers:1}&&a.checkReload()})}]),app.controller("StartContainerModalCtrl",["$scope","$modalInstance","DockerData","container",function(a,b,c,d){a.DockerData=c,a.param={PortBindings:{},PublishAllPorts:!0,Privileged:!1},a.PortBindings=[{}],a.ok=function(){angular.forEach(a.PortBindings,function(b){if(b.pubports=(b.pubports||"").trim(),b.priport=(b.priport||"").trim(),b.priport&&!b.priport.match(/\D/)){var c=[];b.pubports&&angular.forEach(b.pubports.split(/\D+/),function(a){c.push({HostPort:a})}),c.length||c.push({}),a.param.PortBindings[b.priport+"/"+b.porttype.toLowerCase()]=c}}),b.close({container:d,param:a.param})},a.cancel=function(){b.dismiss("cancel")}}]),app.filter("humanSize",function(){return function(a){if(0>=a)return 0;var b=["bytes","kB","MB","GB","TB","PB"],c=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,Math.floor(c))).toFixed(2)+" "+b[c]}}).run(["$rootScope",function(a){a.loadingCtrl={}}]).controller("IndexCtrl",["$scope","DockerData","$http","$translate","LocationHash","$filter",function(a,b,c,d,e,f){a.DockerData=b,b.IndexCtrl=a,a.devMode=!1,a.locale=d.use(),a.updateLocale=function(){d.use(a.locale)},a.alerts=[],a.log=function(){for(var b=Array.prototype.join.call(arguments," "),c=0;c<a.alerts.length;c++){var d=a.alerts[c];if("info"==d.type&&d.msg==b)return}a.alerts.push({type:"info",msg:b})},a.error=function(){for(var b=Array.prototype.join.call(arguments," "),c=0;c<a.alerts.length;c++){var d=a.alerts[c];if("danger"==d.type&&d.msg==b)return}a.alerts.push({type:"danger",msg:b})},a.connectEvents=function(){XMLHttpRequest&&b.apiurl&&(a.closeConnectEvents(),a.xhr=new XMLHttpRequest,a.xhr.readlen=0,a.xhr.open("GET",b.apiurl+"/events?since="+(Math.floor((new Date).getTime()/1e3)-30)),a.xhr.onprogress=function(){var c=a.xhr.responseText.substr(a.xhr.readlen);if(a.xhr.readlen+=c.length,c){var d=c.match(/{.*?}/g);if(d&&d.length){var e=!1,f=!1;angular.forEach(d,function(a){try{if(!e||!f){var b=JSON.parse(a);e=!!(b.status in{create:1,start:1,stop:1,kill:1,die:1,destroy:1}),f=!!(b.status in{"delete":1})}}catch(c){}}),e&&b.ContainerCtrl&&b.ContainerCtrl.reload(),f&&b.ImageCtrl&&b.ImageCtrl.reload()}}},a.xhr.onerror=function(){a.error(f("translate")("Disconnect to docker web service."),f("translate")("Please check network and refresh page.")),a.$digest()},a.xhr.send(null))},a.closeConnectEvents=function(){a.xhr&&(a.xhr.abort(),delete a.xhr)},a.checkConnectEvents=function(){XMLHttpRequest&&(a.xhr||a.connectEvents())},a.$watch("DockerData.apiurl",function(){a.closeConnectEvents()},!0),a.$watch("tab",function(b){e.tab=b,a.checkConnectEvents()},!0),a.tab=b.host?e.tab||"Containers":"Config","0"==b.version&&(a.devMode=!0,c.get("package.json?"+(new Date).getTime()).success(function(a){b.version=a.version+"-dev"}))}]),app.run(["$templateCache",function(a){"use strict";a.put("./index/CreateContainerModalContent.html",'<style type="text/css">\r\n\r\n.CreateContainerModal th,\r\n.CreateContainerModal td {\r\n	padding: 0.2em 0.5em;\r\n}\r\n\r\n.CreateContainerModal input[type="text"] {\r\n	text-indent: 0.3em;\r\n}\r\n\r\n</style>\r\n\r\n<div class="CreateContainerModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Create a container</h3>\r\n		<span style="position: absolute; top: 1em; right: 1em;">\r\n			<label for="moreOptions" translate>More options</label>\r\n			<input type="checkbox" ng-model="moreOptions" id="moreOptions"/>\r\n		</span>\r\n	</div>\r\n	<div class="modal-body">\r\n		<table>\r\n			<tr>\r\n				<th translate>Image</th>\r\n				<td>\r\n					<select ng-options="img.Id as img.RepoTags[0] for img in DockerData.images" ng-model="param.Image"></select>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Name</th>\r\n				<td>\r\n					<input type="text" ng-model="param.Name" placeholder="Container name"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Cmd</th>\r\n				<td>\r\n					<input type="text" ng-model="param.Cmd" placeholder="/bin/bash"/>\r\n					<button ng-click="param.Cmd = \'/bin/bash\'" class="btn btn-info btn-xs">\r\n						<span class="glyphicon glyphicon-arrow-left"></span>\r\n					</button>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>ExposedPorts</th>\r\n				<td>\r\n					<input type="text" ng-model="form.ExposedPorts" placeholder="22 80 8080 53/udp"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-repeat="key in [\'Hostname\', \'User\']" ng-show="moreOptions">\r\n				<th translate>{{key}}</th>\r\n				<td>\r\n					<input type="text" ng-model="param[key]"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-repeat="key in [\'Memory\', \'MemorySwap\']" ng-show="moreOptions">\r\n				<th translate>{{key}}</th>\r\n				<td>\r\n					<input type="number" ng-model="param[key]"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-repeat="key in [\'AttachStdin\', \'AttachStdout\', \'AttachStderr\', \'Tty\', \'OpenStdin\', \'StdinOnce\']" ng-show="moreOptions">\r\n				<th translate>{{key}}</th>\r\n				<td>\r\n					<input type="checkbox" ng-model="param[key]"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<td colspan="2">\r\n					<div style="margin-top: 1em;" translate>Init start config</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Volumes</th>\r\n				<td>\r\n					<input type="text" ng-model="extra.Volumes" placeholder="/host/path:/container/path" style="width: 20em;"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Ports</th>\r\n				<td>\r\n					<input type="text" ng-model="extra.Ports" placeholder="49080:80 hostPort:containerPort" style="width: 20em;"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>PublishAllPorts</th>\r\n				<td>\r\n					<input type="checkbox" ng-model="startconfig.PublishAllPorts"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Privileged</th>\r\n				<td>\r\n					<input type="checkbox" ng-model="startconfig.Privileged"/>\r\n				</td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n'),a.put("./index/StartContainerModalContent.html",'<style type="text/css">\r\n\r\n.StartContainerModal th,\r\n.StartContainerModal td {\r\n	padding: 0.2em 0.5em;\r\n}\r\n\r\n.StartContainerModal th {\r\n	white-space: nowrap;\r\n}\r\n\r\n</style>\r\n\r\n<div class="StartContainerModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Start a container</h3>\r\n	</div>\r\n	<div class="modal-body">\r\n		<table>\r\n			<tr>\r\n				<th style="vertical-align: top;">\r\n					<div>PortBindings</div>\r\n					<div><button ng-click="PortBindings.push({})" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-plus"></span></button></div>\r\n				</th>\r\n				<td>\r\n					<table>\r\n						<tr>\r\n							<th translate>Port Type</th>\r\n							<th translate>Public Port</th>\r\n							<th>*<span translate>Private Port</span></th>\r\n						</tr>\r\n						<tr ng-repeat="pb in PortBindings">\r\n							<td>\r\n								<select ng-options="tp for tp in [\'TCP\', \'UDP\']" ng-model="pb.porttype" ng-init="pb.porttype=\'TCP\'"></select>\r\n							</td>\r\n							<td>\r\n								<input type="text" ng-model="pb.pubports" placeholder="80 8080"/>\r\n							</td>\r\n							<td>\r\n								<input type="text" ng-model="pb.priport" placeholder="80"/>\r\n							</td>\r\n							<td>\r\n								<button ng-click="PortBindings.splice($index, 1)" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-remove"></span></button>\r\n							</td>\r\n						</tr>\r\n					</table>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>PublishAllPorts</th>\r\n				<td><input type="checkbox" ng-model="param.PublishAllPorts"/></td>\r\n			</tr>\r\n			<tr>\r\n				<th><span title="Give extended privileges to this container">Privileged</span></th>\r\n				<td><input type="checkbox" ng-model="param.Privileged"/></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n')}]);